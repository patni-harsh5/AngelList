function apply() {
  if ($(".add-note-button > a.g-button.blue:visible").length == 0) {
    $(".browse_startups_table_row:visible").first().click();
  }
  $(".add-note-button > a.g-button.blue:visible").first().click();
  $(".interested-note:visible").first().val("I hacked AngelList to auto-apply to jobs. Thatâ€™s why you should hire me.");
  $("a.g-button.blue.interested-with-note-button:visible").first().click();
  $(".js-done").click();
  $("html, body").animate({ scrollBottom: $(document).height()-$(window).height() });
  setTimeout(apply, 4000);
}

// or if that doesn't work

function() {

  var placeholderString,
  placeholderWords,
  contactName,
  companyName,
  customNote,
  jobDescription,
  jobUrl,
  jobInfo,
  str = '';

  $('.job_listings')

    .filter(function(_, elem) {
      return ($(elem).attr('data-force-note') );
    })
    .each(function(_, elem) {

      // Find the URL for each job listing.
      $(elem)
          .find('.top a[href]')
          .each( function(idx, value) { str += $(value).attr('href') + "\n"; });

      // Get the placeholder note so we can pluck the names of the contact and company.
      placeholderString = $(elem)
        .find('.interested-note').attr('placeholder');

      // Split placeholder string into words:
      placeholderWords = placeholderString.split(' ');

      // Pluck contact name
      contactName = placeholderWords[4];

      // Pluck company name
      companyName = $(elem).find('.startup-link').text();

      // Build personalized note
      customNote = "Hi " + contactName + "! I'm a mathematician. I solve problems. I'd like to contribute my skills to " + companyName + ". Let's chat!";

      // .header-info .tagline (text)
      jobDescription = $(elem).find('.tagline').text();

      // .header-info .startup-link (href attr)
      jobUrl = $(elem).find('.startup-link').attr('href');

      // Compile and format job information
      jobInfo = companyName + '\n' + jobDescription + '\n' + str + '\n\n';

      // Get job data for your own records
      console.log(jobInfo);

      // Log out custom note to verify syntax.
      // console.log(customNote + '\n');

      // Add your custom note.
      // *** (Comment these lines out to debug.)
      $(elem)
        .find('.interested-note').text( customNote );

      // Fire in the hole!
      // *** (Comment these lines out to debug.)
      $(elem)
        .find('.interested-with-note-button')
        .each( function(idx, button) { $(button).click(); });

    });

    // Print all of the company and job info to the console.
    return jobInfo;
})();
